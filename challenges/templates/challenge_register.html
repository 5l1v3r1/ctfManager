{% extends "base.html" %}
{% block body %}
<div class="col-lg-12">
   <h1>Challenge Register</h1>
</div>
<div class="col-lg-12">
   <div class="panel panel-success">
      <div class="panel-body">
        {% if challenge%}
        <form class="form-horizontal" action="{%url 'challengeEdit' challenge.id%}" method='POST' enctype="multipart/form-data">
        {%else%}
        <form class="form-horizontal" action="{%url 'challengeRegister'%}" method='POST' enctype="multipart/form-data">
        {%endif%}
         {% csrf_token %}
         <fieldset>
           {%if challenge%}
            <legend>Edit {{challenge.name}}</legend>
            {%else%}
            <legend>Create a new challenge</legend>
            {%endif%}
            <div class="form-group">
               <label for="inputEmail" class="col-lg-2 control-label">Name</label>
               <div class="col-lg-10">
                  <input class="form-control" name="name" value="{{challenge.name}}" placeholder="Challenge Name" type="text" required>
               </div>
            </div>
            <div class="form-group">
               <label for="inputEmail" class="col-lg-2 control-label">Flag</label>
               <div class="col-lg-10">
                  <input class="form-control" name="flag" value="{{challenge.flag}}" placeholder="Challenge Name" type="text" required>
               </div>
            </div>

            <div class="form-group">
               <label for="inputEmail" class="col-lg-2 control-label">Points</label>
               <div class="col-lg-10">
                  <input class="form-control" name="points" value="{{challenge.points}}" placeholder="Challenge Name" type="text" required>
               </div>
            </div>

            <div class="form-group">
               <label for="inputEmail" class="col-lg-2 control-label">Description</label>
               <div class="col-lg-10">
                  <textarea class="form-control" name="description" placeholder="Challenge Description" type="text" rows=10 required>{{challenge.description}}</textarea>
               </div>
            </div>

            <div class="form-group">
               <label for="inputEmail" class="col-lg-2 control-label">Write-up</label>
               <div class="col-lg-10">
                  <textarea class="form-control" name="writeup"  placeholder="First Name" type="text" rows=10>{{challenge.writeup}}</textarea>
               </div>
            </div>




            <div class="form-group">
               <label class="col-lg-2 control-label">Challenge File</label>
               <div class="col-lg-10">

                 <div class="fileinput fileinput-new" data-provides="fileinput">
                     <span class="btn btn-default btn-file"><span>Choose file</span><input type="file" name="chall_file" /></span>
                     <span class="fileinput-filename"></span><span class="fileinput-new"></span>
          </div>
        </div>

      </div>
            <div class="form-group">
              <label for="inputEmail" class="col-lg-2 control-label">Category</label>
              <div class="col-lg-10">
            <select class="form-control" id="select" name="category">
              {%for category in categorys%}
              <option name="category" value="{{category.0}}">{{category.1}}</option>
              {%endfor%}
            </select>
          </div>

          </div>

         </fieldset>
         {%if challenge%}
         <button type="submit" class="btn btn-primary">Edit Challenge</button>
          {%else%}
          <button type="submit" class="btn btn-primary">Create Challenge</button>
          {%endif%}

         </form>
      </div>
   </div>
</div>
{% endblock %}
